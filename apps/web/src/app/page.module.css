/*
 * DeskCrafter v6.0 â€” Aurora Component Styles
 */

/* === LAYOUT SHELL === */
.stage {
  height: 100vh;
  width: 100vw;
  max-height: 100vh;
  max-width: 100vw;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  background: var(--bg-base);
  color: var(--text-secondary);
  position: relative;
}

/* Subtle gradient mesh background */
.stage::before {
  content: "";
  position: fixed;
  inset: 0;
  background:
    radial-gradient(ellipse 80% 50% at 20% 10%, rgba(249, 115, 22, 0.08), transparent 50%),
    radial-gradient(ellipse 60% 40% at 80% 20%, rgba(236, 72, 153, 0.06), transparent 50%),
    radial-gradient(ellipse 50% 50% at 60% 80%, rgba(139, 92, 246, 0.05), transparent 50%);
  pointer-events: none;
  z-index: 0;
}

/* === TOPBAR === */
.topbar {
  height: var(--topbar-height);
  min-height: var(--topbar-height);
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 var(--space-6);
  background: var(--bg-surface);
  border-bottom: 1px solid var(--border-subtle);
  position: relative;
  z-index: 10;
  animation: slideUp var(--duration-slow) var(--ease-out) both;
  overflow: hidden;
}

.brandArea {
  display: flex;
  align-items: center;
  gap: var(--space-3);
}

.brandMark {
  width: 40px;
  height: 40px;
  border-radius: var(--radius-md);
  background: linear-gradient(135deg, var(--accent-start), var(--accent-end));
  color: white;
  display: grid;
  place-items: center;
  font-weight: 700;
  font-size: var(--text-lg);
  box-shadow: var(--shadow-sm);
}

.brandText {
  display: flex;
  flex-direction: column;
}

.brandName {
  font-size: var(--text-lg);
  font-weight: 700;
  color: var(--text-primary);
  letter-spacing: var(--tracking-tight);
}

.brandTagline {
  font-size: var(--text-xs);
  color: var(--text-tertiary);
  letter-spacing: var(--tracking-wide);
}

.topbarActions {
  display: flex;
  align-items: center;
  gap: var(--space-3);
}

/* === STATUS PILL === */
.statusPill {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2) var(--space-3);
  border-radius: var(--radius-full);
  background: var(--bg-wash);
  border: 1px solid var(--border-subtle);
  font-size: var(--text-sm);
  color: var(--text-tertiary);
}

.statusDot {
  width: 8px;
  height: 8px;
  border-radius: var(--radius-full);
  background: var(--text-quaternary);
}

.statusDotOnline {
  background: var(--success);
  box-shadow: 0 0 8px rgba(34, 197, 94, 0.5);
}

.statusDotOffline {
  background: var(--text-quaternary);
}

/* === BUTTONS === */
.primaryButton {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  height: 40px;
  padding: 0 var(--space-5);
  border-radius: var(--radius-md);
  background: linear-gradient(135deg, var(--accent-start), var(--accent-end));
  color: white;
  font-weight: 600;
  font-size: var(--text-sm);
  box-shadow: var(--shadow-sm);
  transition:
    transform var(--duration-fast) var(--ease-spring),
    box-shadow var(--duration-fast) var(--ease-out);
}

.primaryButton:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow-md);
}

.primaryButton:active {
  transform: translateY(0);
  box-shadow: var(--shadow-xs);
}

.secondaryButton {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  height: 40px;
  padding: 0 var(--space-4);
  border-radius: var(--radius-md);
  background: var(--bg-surface);
  color: var(--text-primary);
  font-weight: 500;
  font-size: var(--text-sm);
  border: 1px solid var(--border-default);
  transition:
    background var(--duration-fast) var(--ease-out),
    border-color var(--duration-fast) var(--ease-out);
}

.secondaryButton:hover {
  background: var(--bg-wash);
  border-color: var(--border-strong);
}

.ghostButton {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  height: 40px;
  padding: 0 var(--space-4);
  border-radius: var(--radius-md);
  background: transparent;
  color: var(--text-tertiary);
  font-weight: 500;
  font-size: var(--text-sm);
  transition:
    background var(--duration-fast) var(--ease-out),
    color var(--duration-fast) var(--ease-out);
}

.ghostButton:hover {
  background: var(--bg-wash);
  color: var(--text-primary);
}

.dangerButton {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  height: 40px;
  padding: 0 var(--space-4);
  border-radius: var(--radius-md);
  background: transparent;
  color: var(--danger);
  font-weight: 500;
  font-size: var(--text-sm);
  transition:
    background var(--duration-fast) var(--ease-out);
}

.dangerButton:hover {
  background: var(--danger-subtle);
}

/* === MAIN SHELL === */
.shell {
  flex: 1;
  min-height: 0;
  display: grid;
  grid-template-columns: minmax(220px, 280px) minmax(300px, 1fr) minmax(280px, 380px);
  overflow: hidden;
  position: relative;
  z-index: 1;
}

/* === PANELS === */
.panel {
  display: flex;
  flex-direction: column;
  min-height: 0;
  max-height: 100%;
  overflow: hidden;
  background: var(--bg-surface);
  border-right: 1px solid var(--border-subtle);
  animation: fadeIn var(--duration-slow) var(--ease-out) both;
}

.panel:last-child {
  border-right: none;
  border-left: 1px solid var(--border-subtle);
}

.navPanel {
  composes: panel;
  min-width: 0;
}

.listPanel {
  composes: panel;
  border-right: 1px solid var(--border-subtle);
  background: var(--bg-base);
  min-width: 0;
}

.editorPanel {
  composes: panel;
  min-width: 0;
}

.panelHeader {
  padding: var(--space-5);
  border-bottom: 1px solid var(--border-subtle);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-3);
  background: var(--bg-surface);
  flex-shrink: 0;
  min-height: 0;
}

.panelTitle {
  font-size: var(--text-lg);
  font-weight: 600;
  color: var(--text-primary);
  letter-spacing: var(--tracking-tight);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.panelSubtitle {
  font-size: var(--text-xs);
  color: var(--text-tertiary);
  margin-top: var(--space-1);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.panelBody {
  flex: 1;
  min-height: 0;
  overflow-y: auto;
  padding: var(--space-5);
  display: flex;
  flex-direction: column;
  gap: var(--space-5);
}

/* === SIDEBAR SECTIONS === */
.sectionLabel {
  font-size: var(--text-xs);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  color: var(--text-tertiary);
  margin-bottom: var(--space-3);
}

/* === NAV ITEMS === */
.navItem {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-3);
  padding: var(--space-3) var(--space-4);
  border-radius: var(--radius-md);
  background: transparent;
  color: var(--text-secondary);
  font-size: var(--text-sm);
  font-weight: 500;
  text-align: left;
  width: 100%;
  transition:
    background var(--duration-fast) var(--ease-out),
    color var(--duration-fast) var(--ease-out);
}

.navItem:hover {
  background: var(--bg-wash);
  color: var(--text-primary);
}

.navItemActive {
  background: var(--accent-subtle);
  color: var(--accent-solid);
}

.countBadge {
  min-width: 24px;
  height: 22px;
  padding: 0 var(--space-2);
  border-radius: var(--radius-full);
  background: var(--bg-wash);
  border: 1px solid var(--border-subtle);
  display: grid;
  place-items: center;
  font-size: var(--text-xs);
  font-weight: 600;
  color: var(--text-tertiary);
}

/* === CHIPS === */
.chipGroup {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
}

.chip {
  display: inline-flex;
  align-items: center;
  gap: var(--space-1);
  padding: var(--space-1) var(--space-3);
  border-radius: var(--radius-full);
  background: var(--bg-wash);
  border: 1px solid var(--border-subtle);
  font-size: var(--text-xs);
  font-weight: 500;
  color: var(--text-tertiary);
  transition:
    background var(--duration-fast) var(--ease-out),
    border-color var(--duration-fast) var(--ease-out),
    color var(--duration-fast) var(--ease-out);
}

.chip:hover {
  border-color: var(--accent-solid);
  color: var(--accent-solid);
}

.chipActive {
  background: linear-gradient(135deg, var(--accent-start), var(--accent-end));
  border-color: transparent;
  color: white;
}

/* Category-specific chips */
.chipDevelopment {
  background: var(--cat-development-bg);
  color: var(--cat-development);
  border-color: transparent;
}

.chipUtility {
  background: var(--cat-utility-bg);
  color: var(--cat-utility);
  border-color: transparent;
}

.chipGame {
  background: var(--cat-game-bg);
  color: var(--cat-game);
  border-color: transparent;
}

.chipMultimedia {
  background: var(--cat-multimedia-bg);
  color: var(--cat-multimedia);
  border-color: transparent;
}

.chipOffice {
  background: var(--cat-office-bg);
  color: var(--cat-office);
  border-color: transparent;
}

.chipGraphics {
  background: var(--cat-graphics-bg);
  color: var(--cat-graphics);
  border-color: transparent;
}

.chipNetwork {
  background: var(--cat-network-bg);
  color: var(--cat-network);
  border-color: transparent;
}

.chipSystem {
  background: var(--cat-system-bg);
  color: var(--cat-system);
  border-color: transparent;
}

/* === STAT GRID === */
.statGrid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--space-3);
}

.statCard {
  padding: var(--space-4);
  border-radius: var(--radius-md);
  background: var(--bg-wash);
  border: 1px solid var(--border-subtle);
}

.statValue {
  font-size: var(--text-2xl);
  font-weight: 700;
  color: var(--text-primary);
  letter-spacing: var(--tracking-tight);
}

.statLabel {
  font-size: var(--text-xs);
  color: var(--text-tertiary);
  margin-top: var(--space-1);
}

.statWide {
  grid-column: 1 / -1;
}

/* === SEARCH === */
.listHeader {
  padding: var(--space-4) var(--space-5);
  border-bottom: 1px solid var(--border-subtle);
  display: flex;
  align-items: center;
  gap: var(--space-4);
  background: var(--bg-surface);
  flex-shrink: 0;
  min-width: 0;
}

.searchWrap {
  flex: 1;
  min-width: 0;
}

.searchInput {
  width: 100%;
  height: 44px;
  padding: 0 var(--space-4);
  border-radius: var(--radius-md);
  background: var(--bg-surface);
  border: 1px solid var(--border-default);
  font-size: var(--text-sm);
  color: var(--text-primary);
  transition:
    border-color var(--duration-fast) var(--ease-out),
    box-shadow var(--duration-fast) var(--ease-out);
}

.searchInput::placeholder {
  color: var(--text-quaternary);
}

.searchInput:focus {
  border-color: var(--accent-solid);
  box-shadow: var(--glow-accent);
}

/* === ENTRY LIST === */
.entryList {
  flex: 1;
  min-height: 0;
  overflow-y: auto;
  padding: var(--space-4);
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

/* === ENTRY CARD === */
.entryCard {
  --stagger-delay: 0ms;
  display: grid;
  grid-template-columns: 48px 1fr auto;
  gap: var(--space-4);
  padding: var(--space-4);
  border-radius: var(--radius-lg);
  background: var(--bg-surface);
  border: 1px solid var(--border-subtle);
  text-align: left;
  box-shadow: var(--shadow-xs);
  animation: slideUp var(--duration-slow) var(--ease-out) both;
  animation-delay: var(--stagger-delay);
  transition:
    transform var(--duration-normal) var(--ease-spring),
    border-color var(--duration-fast) var(--ease-out),
    box-shadow var(--duration-fast) var(--ease-out);
}

.entryCard:hover {
  transform: translateY(-2px);
  border-color: var(--border-default);
  box-shadow: var(--shadow-md);
}

.entryCardActive {
  border-color: var(--accent-solid);
  background: var(--accent-subtle);
  box-shadow: var(--shadow-sm), var(--glow-accent);
}

.entryIcon {
  width: 48px;
  height: 48px;
  border-radius: var(--radius-md);
  background: linear-gradient(135deg, var(--accent-start), var(--accent-end));
  display: grid;
  place-items: center;
  color: white;
  font-weight: 700;
  font-size: var(--text-lg);
  box-shadow: var(--shadow-sm);
  overflow: hidden;
}

.entryIcon img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.entryBody {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
}

.entryTitleRow {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.entryTitle {
  font-size: var(--text-lg);
  font-weight: 600;
  color: var(--text-primary);
  letter-spacing: var(--tracking-tight);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.entryBadge {
  padding: 2px var(--space-2);
  border-radius: var(--radius-full);
  background: var(--bg-wash);
  border: 1px solid var(--border-subtle);
  font-size: var(--text-xs);
  font-weight: 500;
  color: var(--text-tertiary);
}

.entryMeta {
  font-size: var(--text-sm);
  color: var(--text-tertiary);
  font-family: var(--font-mono);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.entryMetaSecondary {
  font-size: var(--text-xs);
  color: var(--text-quaternary);
}

.entryTags {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-1);
  margin-top: var(--space-2);
}

.entryTag {
  padding: 2px var(--space-2);
  border-radius: var(--radius-full);
  font-size: var(--text-xs);
  font-weight: 500;
}

.entryTime {
  font-size: var(--text-xs);
  color: var(--text-quaternary);
  white-space: nowrap;
  align-self: flex-start;
  margin-top: var(--space-1);
}

/* === EMPTY STATE === */
.emptyState {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--space-10);
  text-align: center;
  animation: fadeIn var(--duration-slow) var(--ease-out) both;
}

.emptyIcon {
  width: 64px;
  height: 64px;
  margin-bottom: var(--space-5);
  opacity: 0.3;
}

.emptyTitle {
  font-size: var(--text-xl);
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: var(--space-2);
}

.emptyDescription {
  font-size: var(--text-base);
  color: var(--text-tertiary);
  max-width: 280px;
  margin-bottom: var(--space-6);
}

.emptyAction {
  /* Uses primaryButton styles */
}

/* === EDITOR === */
.editorBody {
  flex: 1;
  min-height: 0;
  overflow-y: auto;
  overflow-x: hidden;
  padding: var(--space-5);
  display: flex;
  flex-direction: column;
  gap: var(--space-5);
}

.editorFooter {
  padding: var(--space-4) var(--space-5);
  border-top: 1px solid var(--border-subtle);
  display: flex;
  justify-content: flex-end;
  gap: var(--space-3);
  background: var(--bg-surface);
  flex-shrink: 0;
}

/* === FORM === */
.formGroup {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.label {
  font-size: var(--text-xs);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  color: var(--text-tertiary);
}

.input,
.textarea {
  width: 100%;
  padding: var(--space-3) var(--space-4);
  border-radius: var(--radius-md);
  background: var(--bg-surface);
  border: 1px solid var(--border-default);
  font-size: var(--text-sm);
  color: var(--text-primary);
  transition:
    border-color var(--duration-fast) var(--ease-out),
    box-shadow var(--duration-fast) var(--ease-out);
}

.input::placeholder,
.textarea::placeholder {
  color: var(--text-quaternary);
}

.input:focus,
.textarea:focus {
  border-color: var(--accent-solid);
  box-shadow: var(--glow-accent);
}

.textarea {
  min-height: 100px;
  resize: vertical;
  font-family: inherit;
}

/* === TOGGLE === */
.toggleRow {
  display: flex;
  align-items: center;
  gap: var(--space-3);
}

.toggleInput {
  width: 20px;
  height: 20px;
  accent-color: var(--accent-solid);
  cursor: pointer;
}

.toggleLabel {
  font-size: var(--text-sm);
  font-weight: 500;
  color: var(--text-secondary);
}

/* === PREVIEW === */
.previewBox {
  padding: var(--space-4);
  border-radius: var(--radius-md);
  background: var(--bg-sunken);
  border: 1px dashed var(--border-strong);
  font-family: var(--font-mono);
  font-size: var(--text-xs);
  color: var(--text-tertiary);
  white-space: pre-wrap;
  word-break: break-word;
  line-height: 1.6;
}

/* === META ROW === */
.metaRow {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-3);
  padding: var(--space-3) var(--space-4);
  border-radius: var(--radius-md);
  background: var(--bg-wash);
  border: 1px solid var(--border-subtle);
  font-size: var(--text-xs);
  color: var(--text-tertiary);
}

/* === MODAL === */
.modalBackdrop {
  position: fixed;
  inset: 0;
  background: rgba(28, 25, 23, 0.4);
  backdrop-filter: blur(4px);
  z-index: 100;
  animation: fadeIn var(--duration-normal) var(--ease-out) both;
}

.modalPanel {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: min(560px, 90vw);
  max-height: 85vh;
  background: var(--bg-elevated);
  border-radius: var(--radius-2xl);
  box-shadow: var(--shadow-xl);
  overflow: hidden;
  z-index: 101;
  animation: scaleIn var(--duration-slow) var(--ease-spring) both;
}

.modalHeader {
  padding: var(--space-5) var(--space-6);
  border-bottom: 1px solid var(--border-subtle);
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.modalTitle {
  font-size: var(--text-xl);
  font-weight: 600;
  color: var(--text-primary);
}

.modalClose {
  width: 32px;
  height: 32px;
  border-radius: var(--radius-md);
  display: grid;
  place-items: center;
  color: var(--text-tertiary);
  transition: background var(--duration-fast) var(--ease-out);
}

.modalClose:hover {
  background: var(--bg-wash);
  color: var(--text-primary);
}

.modalBody {
  padding: var(--space-6);
  overflow-y: auto;
  max-height: 60vh;
}

.modalFooter {
  padding: var(--space-4) var(--space-6);
  border-top: 1px solid var(--border-subtle);
  display: flex;
  justify-content: flex-end;
  gap: var(--space-3);
}

/* === RESPONSIVE === */

/* Large screens - full 3 column */
@media (min-width: 1200px) {
  .shell {
    grid-template-columns: 280px 1fr 380px;
  }
}

/* Medium-large screens - narrower sidebar and editor */
@media (max-width: 1199px) and (min-width: 1024px) {
  .shell {
    grid-template-columns: 240px 1fr 320px;
  }

  .panelHeader {
    padding: var(--space-4);
  }

  .panelBody {
    padding: var(--space-4);
  }
}

/* Medium screens - 2 column, hide sidebar */
@media (max-width: 1023px) and (min-width: 768px) {
  .shell {
    grid-template-columns: 1fr 340px;
  }

  .navPanel {
    display: none;
  }

  .listHeader {
    flex-direction: column;
    align-items: stretch;
    gap: var(--space-3);
  }

  .searchWrap {
    width: 100%;
  }
}

/* Small screens - single column with slide-over editor */
@media (max-width: 767px) {
  .topbar {
    padding: 0 var(--space-4);
    height: 56px;
    flex-wrap: wrap;
    gap: var(--space-2);
  }

  .brandTagline {
    display: none;
  }

  .brandMark {
    width: 36px;
    height: 36px;
    font-size: var(--text-base);
  }

  .brandName {
    font-size: var(--text-base);
  }

  .topbarActions {
    gap: var(--space-2);
  }

  .statusPill {
    padding: var(--space-1) var(--space-2);
    font-size: var(--text-xs);
  }

  .primaryButton,
  .secondaryButton {
    height: 36px;
    padding: 0 var(--space-3);
    font-size: var(--text-xs);
  }

  .shell {
    grid-template-columns: 1fr;
  }

  .navPanel {
    display: none;
  }

  .editorPanel {
    position: fixed;
    top: 56px;
    right: 0;
    bottom: 0;
    left: 0;
    width: 100%;
    z-index: 50;
    background: var(--bg-surface);
    transform: translateX(100%);
    transition: transform var(--duration-slow) var(--ease-out);
    border-left: none;
  }

  .editorPanel[data-open="true"] {
    transform: translateX(0);
  }

  .listHeader {
    padding: var(--space-3) var(--space-4);
    flex-direction: column;
    align-items: stretch;
    gap: var(--space-3);
  }

  .searchInput {
    height: 40px;
  }

  .entryList {
    padding: var(--space-3);
    gap: var(--space-2);
  }

  .entryCard {
    grid-template-columns: 40px 1fr;
    padding: var(--space-3);
    gap: var(--space-3);
  }

  .entryIcon {
    width: 40px;
    height: 40px;
    font-size: var(--text-base);
  }

  .entryTime {
    display: none;
  }

  .entryTitle {
    font-size: var(--text-base);
  }

  .entryMeta {
    font-size: var(--text-xs);
  }

  .modalPanel {
    width: 100%;
    max-height: 100%;
    border-radius: var(--radius-xl) var(--radius-xl) 0 0;
    top: auto;
    bottom: 0;
    left: 0;
    right: 0;
    transform: translate(0, 0);
    max-height: 90vh;
  }

  .modalBody {
    padding: var(--space-4);
  }

  .modalFooter {
    padding: var(--space-3) var(--space-4);
  }

  .editorBody {
    padding: var(--space-4);
    gap: var(--space-4);
  }

  .editorFooter {
    padding: var(--space-3) var(--space-4);
  }
}

/* === REDUCED MOTION === */
@media (prefers-reduced-motion: reduce) {
  .stage::before {
    display: none;
  }

  .topbar,
  .panel,
  .entryCard,
  .emptyState,
  .modalBackdrop,
  .modalPanel {
    animation: none;
  }

  .entryCard,
  .primaryButton,
  .secondaryButton,
  .ghostButton,
  .navItem,
  .chip {
    transition: none;
  }
}
